[{"E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\components\\ControlledDrawingCanvas.js":"1","E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\pages\\PaintingCanvas.js":"2","E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\App.js":"3","E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\helpers\\helpers.js":"4","E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\components\\PhotoSelector.js":"5"},{"size":1904,"mtime":1609269148753,"results":"6","hashOfConfig":"7"},{"size":929,"mtime":1609267567439,"results":"8","hashOfConfig":"7"},{"size":2964,"mtime":1609267435601,"results":"9","hashOfConfig":"7"},{"size":3478,"mtime":1609269581204,"results":"10","hashOfConfig":"7"},{"size":6915,"mtime":1608998363939,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1lo6zsx",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\components\\ControlledDrawingCanvas.js",[],"E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\pages\\PaintingCanvas.js",[],"E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\App.js",["24","25"],"import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  createBrushCanvas,\r\n  createCanvasFromImage,\r\n  getClearCanvas,\r\n} from \"./helpers/helpers\";\r\nimport { BrushMaker } from \"./pages/Brushmaker\";\r\nimport { PaintingCanvas } from \"./pages/PaintingCanvas\";\r\n\r\nconst App = () => {\r\n  const [currPage, setCurrPage] = useState(\"paint\"); // pages \"paint\" / \"makeBrush\"\r\n  const [brush, setBrush] = useState({ data: 0, canvas: null });\r\n  const [sourceImg, setSourceImg] = useState({ data: 0, canvas: null });\r\n  const [maskImg, setMaskImg] = useState({ data: 0, canvas: null });\r\n  const [painting, setPainting] = useState({ data: 0, canvas: null });\r\n\r\n  // LOAD SAMPLE IMAGE FOR BRUSH SOURCE\r\n  useEffect(() => {\r\n    if (!sourceImg.canvas) {\r\n      const image = new Image();\r\n      image.crossOrigin = \"Anonymous\";\r\n      image.onload = () => {\r\n        const canvas = createCanvasFromImage(image);\r\n        setSourceImg((prev) => {\r\n          return { canvas, data: prev.data + 1 };\r\n        });\r\n      };\r\n      image.src = \"doug.png\";\r\n    }\r\n  });\r\n\r\n  // LOAD SAMPLE IMAGE FOR MASK\r\n  useEffect(() => {\r\n    if (!maskImg.canvas) {\r\n      const image = new Image();\r\n      image.crossOrigin = \"Anonymous\";\r\n      image.onload = () => {\r\n        const canvas = createCanvasFromImage(image);\r\n        setMaskImg((prev) => {\r\n          return { canvas, data: prev.data + 1 };\r\n        });\r\n      };\r\n      image.src = \"test-mask-transparent-bg.png\";\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!sourceImg.canvas || !maskImg.canvas) return;\r\n\r\n    const brushCanvas = createBrushCanvas(sourceImg.canvas, maskImg.canvas);\r\n    setBrush((prev) => {\r\n      return { canvas: brushCanvas, data: prev.data + 1 };\r\n    });\r\n  }, [sourceImg.data, maskImg.data]);\r\n\r\n  useEffect(() => {\r\n    if (!painting.canvas) {\r\n      setPainting((prev) => {\r\n        return {\r\n          canvas: getClearCanvas(window.innerWidth, window.innerHeight - 160),\r\n          data: prev.data + 1,\r\n        };\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const showPaintPage = () => setCurrPage(\"paint\");\r\n  const showMakeBrushPage = () => setCurrPage(\"makeBrush\");\r\n\r\n  return (\r\n    <Page>\r\n      <main>\r\n        {currPage === \"paint\" && (\r\n          <PaintingCanvas\r\n            painting={painting}\r\n            setPainting={setPainting}\r\n            brush={brush}\r\n            showMakeBrushPage={showMakeBrushPage}\r\n          />\r\n        )}\r\n\r\n        {currPage === \"makeBrush\" && (\r\n          <BrushMaker\r\n            sourceImg={sourceImg}\r\n            setSourceImg={setSourceImg}\r\n            setMaskImg={setMaskImg}\r\n            maskImg={maskImg}\r\n            showPaintPage={showPaintPage}\r\n            setBrush={setBrush}\r\n            brush={brush}\r\n          />\r\n        )}\r\n      </main>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\nconst Page = styled.div`\r\n  background: whitesmoke;\r\n\r\n  canvas {\r\n    border: 1px solid black;\r\n  }\r\n`;\r\n",["26","27"],"E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\helpers\\helpers.js",[],"E:\\dev\\_apps_.artfly.io\\draw-with-your-face-or-whatever\\src\\components\\PhotoSelector.js",[],{"ruleId":"28","severity":1,"message":"29","line":55,"column":6,"nodeType":"30","endLine":55,"endColumn":36,"suggestions":"31"},{"ruleId":"28","severity":1,"message":"32","line":66,"column":6,"nodeType":"30","endLine":66,"endColumn":8,"suggestions":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","replacedBy":"37"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'maskImg.canvas' and 'sourceImg.canvas'. Either include them or remove the dependency array.","ArrayExpression",["38"],"React Hook useEffect has a missing dependency: 'painting.canvas'. Either include it or remove the dependency array.",["39"],"no-native-reassign",["40"],"no-negated-in-lhs",["41"],{"desc":"42","fix":"43"},{"desc":"44","fix":"45"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [sourceImg.data, maskImg.data, sourceImg.canvas, maskImg.canvas]",{"range":"46","text":"47"},"Update the dependencies array to be: [painting.canvas]",{"range":"48","text":"49"},[1774,1804],"[sourceImg.data, maskImg.data, sourceImg.canvas, maskImg.canvas]",[2056,2058],"[painting.canvas]"]